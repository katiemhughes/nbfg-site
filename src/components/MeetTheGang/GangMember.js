import React, { useContext, useState, useEffect } from 'react';
import Loader from '../Loader/Loader';
import { Context } from '../../Context/Context';
import { useParams } from 'react-router-dom';

const GangMember = () => {
  const { gangMember: gangMemberUrlParam } = useParams();
  console.log('gangMemberUrlParam', gangMemberUrlParam);
  const { theGang, isTheGangLoading } = useContext(Context);
  console.log('theGang', theGang);
  const [gangMember, setGangMember] = useState();

  console.log('gangMember', gangMember);

  useEffect(() => {
    const matchedGangMember = theGang.find((item) => item.slug === gangMemberUrlParam);
    setGangMember(matchedGangMember);

  }, [theGang, gangMemberUrlParam]);

  if (isTheGangLoading) {
    return <Loader />
  }

  if (!gangMember) {
    return <h1>Not found</h1>
  }

  const { title, description, image, slug, email } = gangMember;

  return (
    <section className='meet' id={slug}>
        <h2 className='meet__title'>{title}</h2>
        <img className='meet__image' src={image} alt={title} />
        <p className='meet__description' dangerouslySetInnerHTML={{ __html: description }} />
        <p className='meet__info'>Hit up {title} via email or follow her on socials below...</p>
        <div className='meet__contact'>
          <a href='mailto:maracuyamcr@gmail.com' className='meet__contact--link'>
            <svg className='contact__svg' xmlns="http://www.w3.org/2000/svg" height="28" viewBox="0 0 512 460" width="62"><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z" fill="#fd89d9"></path></svg>
          </a>
          <a href='www.instagram.com/maracuyadj' className='meet__contact--link'>
          <svg className='contact__svg' xmlns="http://www.w3.org/2000/svg" height="34" width="38" viewBox="0 0 674 464"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z" fill="#fd89d9"></path></svg>
          </a>
          <a href='www.facebook.com/maracuyadj' className='meet__contact--link'>
            <svg className='contact__svg' xmlns="http://www.w3.org/2000/svg" height="28" width="28" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z" fill="#fd89d9"/></svg>
          </a>
          <a href='www.soundcloud.com/maracuyadj' className='meet__contact--link'>
            <svg className='contact__svg' xmlns="http://www.w3.org/2000/svg" width="80" height="40" viewBox="50 40 190 220"><path d="M14.492 208.896c.619 0 1.143-.509 1.232-1.226l3.365-26.671-3.355-27.278c-.1-.717-.623-1.23-1.242-1.23-.635 0-1.176.524-1.26 1.23l-2.941 27.278 2.941 26.662c.084.716.625 1.235 1.26 1.235zM3.397 198.752c.608 0 1.101-.473 1.19-1.18l2.608-16.574-2.608-16.884c-.09-.685-.582-1.18-1.19-1.18-.635 0-1.127.495-1.217 1.19L0 180.999l2.18 16.569c.09.701.582 1.184 1.217 1.184zM27.762 148.644c-.08-.867-.715-1.5-1.503-1.5-.782 0-1.418.633-1.491 1.5l-2.811 32.355 2.811 31.174c.073.862.709 1.487 1.491 1.487.788 0 1.423-.625 1.503-1.487l3.18-31.174-3.18-32.355zM38.152 214.916c.922 0 1.668-.759 1.758-1.751l3.005-32.156-3.005-33.258c-.09-.999-.836-1.749-1.758-1.749-.935 0-1.692.751-1.756 1.754l-2.656 33.253 2.656 32.156c.064.993.821 1.751 1.756 1.751zM50.127 215.438c1.074 0 1.936-.86 2.025-2.011l-.01.008 2.83-32.426-2.83-30.857c-.08-1.132-.941-2.005-2.016-2.005-1.09 0-1.947.873-2.012 2.014l-2.502 30.849 2.502 32.418c.066 1.15.923 2.01 2.013 2.01zM67.132 181.017l-2.655-50.172c-.074-1.272-1.065-2.286-2.281-2.286-1.207 0-2.195 1.013-2.269 2.286l-2.35 50.172 2.35 32.418c.074 1.278 1.063 2.278 2.269 2.278 1.217 0 2.207-1 2.281-2.278v.009l2.655-32.427zM74.386 215.766c1.339 0 2.45-1.111 2.513-2.529v.021l2.482-32.233-2.482-61.656c-.063-1.418-1.174-2.529-2.513-2.529-1.37 0-2.471 1.111-2.545 2.529l-2.185 61.656 2.195 32.222c.064 1.408 1.165 2.519 2.535 2.519zM86.645 111.435c-1.508 0-2.725 1.238-2.787 2.799l-2.033 66.801 2.033 31.884c.063 1.553 1.279 2.783 2.787 2.783 1.504 0 2.73-1.22 2.783-2.788v.016l2.307-31.895-2.307-66.801c-.053-1.571-1.28-2.799-2.783-2.799zM99.01 215.766c1.656 0 2.975-1.336 3.037-3.056v.019l2.133-31.693-2.133-69.045c-.063-1.714-1.381-3.056-3.037-3.056-1.666 0-3.005 1.342-3.031 3.056l-1.916 69.045 1.916 31.693c.026 1.701 1.365 3.037 3.031 3.037zM111.477 215.734c1.787 0 3.237-1.463 3.291-3.318v.029l1.963-31.404-1.963-67.289c-.054-1.854-1.504-3.311-3.291-3.311-1.8 0-3.25 1.456-3.303 3.311l-1.725 67.289 1.736 31.389c.042 1.841 1.492 3.304 3.292 3.304zM129.359 181.041l-1.777-64.836c-.043-2-1.609-3.571-3.551-3.571-1.947 0-3.514 1.571-3.555 3.584l-1.594 64.823 1.594 31.198c.041 1.984 1.607 3.556 3.555 3.556 1.941 0 3.508-1.572 3.551-3.585v.029l1.777-31.198zM136.682 215.853c2.064 0 3.773-1.717 3.805-3.828v.017l1.613-30.984-1.613-77.153c-.031-2.119-1.74-3.833-3.805-3.833-2.063 0-3.767 1.722-3.809 3.844l-1.434 77.111 1.434 31.016c.042 2.093 1.746 3.81 3.809 3.81zM149.291 92.814c-2.229 0-4.037 1.849-4.074 4.103l-1.667 84.151 1.677 30.526c.027 2.225 1.836 4.068 4.064 4.068 2.195 0 4.037-1.844 4.047-4.105v.037l1.82-30.526-1.82-84.151c-.01-2.262-1.852-4.103-4.047-4.103zM160.82 215.882c.09.008 101.623.056 102.275.056 20.385 0 36.904-16.722 36.904-37.357 0-20.624-16.52-37.349-36.904-37.349a36.315 36.315 0 0 0-14.275 2.907c-2.922-33.671-30.815-60.077-64.842-60.077-8.318 0-16.429 1.662-23.593 4.469-2.788 1.09-3.534 2.214-3.556 4.392v118.539c.032 2.29 1.778 4.193 3.991 4.42z" fill="#fd89d9"/></svg>
          </a>
          <a href='www.mixcloud.com/maracuyadj' className='meet__contact--link'>
            <svg className='contact__svg' xmlns="http://www.w3.org/2000/svg" width="120" height="60" viewBox="0 0 571 67"><path d="M570.239 33.365c0-27.931-17.506-32.443-34.196-32.443h-22.669V65.9h22.669c16.69 0 34.196-4.512 34.196-32.535zm-11.788 0c0 20.839-10.882 22.222-22.408 22.222h-5.349l-.347.011c-2.231-.024-3.404.331-4.504.978l-2.477 1.578-2.066-2.067 1.448-.826.002-.003c.916-.624 1.657-1.541 2.137-2.833.23-.771.361-1.683.362-2.77l.005.001V16.912a10.289 10.289 0 0 0-.19-1.787c-.461-1.574-1.281-2.639-2.314-3.343-.002-.001-.001-.002-.002-.003l-1.448-.826 2.066-2.067 2.477 1.578c.481.283 1.05.506 1.716.67.23.04.816.076 1.071.101h7.413c11.526 0 22.408 1.383 22.408 22.13zm-56.099 8.395V.922h-11.88v36.413c0 12.26-2.49 19.174-16.046 19.174-13.555 0-16.045-6.914-16.045-19.174V.922h-11.88V41.76c0 16.222 9.209 25.062 27.925 25.062 18.625 0 27.926-8.84 27.926-25.062zm-65.136-8.395C437.216 14.463 425.15 0 405.233 0c-20.01 0-32.075 14.463-32.075 33.365 0 18.995 12.065 33.457 32.075 33.457 19.917 0 31.983-14.462 31.983-33.457zm-11.88 0c0 13.739-6.64 23.144-20.103 23.144-13.463 0-20.194-9.405-20.194-23.144 0-13.646 6.731-23.052 20.194-23.052s20.103 9.406 20.103 23.052zM318.147 66.82l47.708-8.344V47.119l-46.245 7.999-1.307-1.427c1.385-.423 4.706-1.697 4.706-4.221.004-.071.019-48.551.019-48.551h-11.88v59.086c0 4.42 2.579 6.907 6.999 6.815zm-68.619-33.455c0-14.292 7.56-23.052 20.466-23.052 10.323 0 17.515 5.533 18.988 15.676h11.893C298.938 9.945 287.416 0 269.808 0c-20.004 0-32.161 14.463-32.161 33.365 0 18.995 12.157 33.457 32.161 33.457 17.608 0 29.13-9.945 31.067-26.08h-11.893c-1.473 10.143-8.665 15.767-18.988 15.767-12.906 0-20.466-8.76-20.466-23.144zm-51.354 9.996l30.876 22.217V51.937l-26.176-18.526 26.176-18.525V1.245l-30.876 22.308h-3.319L164.07 1.245v13.643l26.084 18.523-26.084 18.523v13.644l30.785-22.217h3.319zM88.798 39.326h65.15v-11.83h-65.15v11.83zM64.344 65.9h11.88V.922H52.726L39.634 62.87h-3.043L23.498.922H0V65.9h11.88V11.697L9.761 3.952h3.741L27.24 65.9h21.836L62.722 3.952h3.832l-2.21 7.745V65.9z" fillRule="evenodd" fill="#fd89d9" /></svg>
          </a>
        </div>
    </section>
  )
}

export default GangMember;